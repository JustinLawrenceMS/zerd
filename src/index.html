<!DOCTYPE html5>
<html>

	<head>

		<title>Zerd</title>
		<link rel="stylesheet"
			href="https://fonts.googleapis.com/css?family=Play">
		<style>

			* {
				background-color: black;
				color: lightgreen;
				font-family: Play;

			}

			.question {

				font-size: 2em;

			}
			.answer {

				width: 100%;
				padding: 1em;
				border: none;
				font-size: 2em;
				outline: none;
				
			
			}
		</style>

	</head>

	<body>

		<h1
			class="header">ZERD TEXT-BASED ADVENTURE</h1>

		<div
			id="question"
			class="question">
			You are walking alone through a moonlit forest when you see something you haven't seen before.  A goblin covered with strands of hair, moss and moonlight opens a door hidden at the root of a tree.  He pokes his head out, looks around, and, cackling evily, goes back in.  He doesn't see you.  What do you do?
		</div>
		<textarea
		    id="answer"   
		    class="answer"
		    autofocus>
		</textarea>

	</body>
<script type="module">

	import * as dialogs from './zerd.json';

	const question = document.getElementById('question');

	const answer = document.getElementById('answer');

	answer.addEventListener('keydown', function(e){


		if(e.key == 'Enter'){

			let val = answer.value.trim();

			setQuestion(val);

		}
			
	});

	function setQuestion(val){


			let if_answers = [];

			for(var i=0; i<dialogs.length; i++){

				if_answers[i] = dialogs[i].if_answer;


			}

			for(var i=0; i<if_answers.length; i++){

				if(val == if_answers[i]){

					answer.value = ' '.trim();
					question.innerHTML = dialogs[i].then_question;

				}

			}

		}
</script>
</html>
